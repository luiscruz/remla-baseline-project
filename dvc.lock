schema: '2.0'
stages:
  make_dataset:
    cmd: python -m src.data.make_dataset
    deps:
    - path: src/config/definitions.py
      md5: 5744b597d0c60b1b49653dc10d643c28
      size: 142
    - path: src/data/make_dataset.py
      md5: 98d6bd4d6053d09b8c21a58b7a01e72b
      size: 223
    outs:
    - path: data/external/corpora/stopwords.zip
      md5: 18a27eb100bbd7f5116d66110d303f29
      size: 26220
    - path: data/external/corpora/stopwords/
      md5: 50a4e3275c7076efb104756d77c8d1dd.dir
      size: 64277
      nfiles: 25
  build_features:
    cmd: python -m src.features.build_features
    deps:
    - path: data/external/corpora/stopwords/
      md5: 50a4e3275c7076efb104756d77c8d1dd.dir
      size: 64277
      nfiles: 25
    - path: data/raw/test.tsv
      md5: f06925444bd9e4b12b382e0e267345a7
      size: 1041379
    - path: data/raw/train.tsv
      md5: 2502592a16c44c1e33cb827b2a647406
      size: 7196138
    - path: data/raw/validation.tsv
      md5: 508e1de849c33ba2f38f0b118590a4cd
      size: 2166270
    - path: src/common/data.py
      md5: 032e08d8f23b662991c89fa5dc2c7de9
      size: 396
    - path: src/config/definitions.py
      md5: 5744b597d0c60b1b49653dc10d643c28
      size: 142
    - path: src/features/build_features.py
      md5: c6ab3e1da9d8fa238d052642182ef638
      size: 3977
    outs:
    - path: data/derivates/cleaned_train_dataset_properties.pkl
      md5: 29c600e89cf8129ebc8b7a75dbad48f4
      size: 114384
    - path: data/derivates/tfidf_vocab.pkl
      md5: 4539842f91487ff205c66a58442b5913
      size: 304689
    - path: data/processed/test.pkl
      md5: b0a79cca2675fe19fec0a1764102c1d9
      size: 1652795
    - path: data/processed/train.pkl
      md5: 12637bc042c74154cc176d3d859478e7
      size: 10530934
    - path: data/processed/validation.pkl
      md5: 1734eac77597b34ad2568063b62174bd
      size: 3103689
  train_model:
    cmd: python -m src.models.train_model
    deps:
    - path: data/processed/train.pkl
      md5: 12637bc042c74154cc176d3d859478e7
      size: 10530934
    - path: src/config/definitions.py
      md5: 5744b597d0c60b1b49653dc10d643c28
      size: 142
    - path: src/models/train_model.py
      md5: 3c7d697a8216d55b41750757355c573c
      size: 1498
    outs:
    - path: models/mlb.pkl
      md5: 5d180c30fd6da3e373bfa5ccb4fe0c2c
      size: 1880
    - path: models/tfidf.pkl
      md5: 7e05594b9003f404d187600bc49dc9d3
      size: 14666657
  data_validation:
    cmd: pytest tests/test_data_validation.py
    deps:
    - path: data/raw/schema
      md5: 14a5f225b46ff5db9f0d4c1d8fda9006
      size: 412
    - path: data/raw/test.tsv
      md5: f06925444bd9e4b12b382e0e267345a7
      size: 1041379
    - path: data/raw/train.tsv
      md5: 2502592a16c44c1e33cb827b2a647406
      size: 7196138
    - path: data/raw/validation.tsv
      md5: 508e1de849c33ba2f38f0b118590a4cd
      size: 2166270
    - path: tests/test_data_validation.py
      md5: c241ad26bc5e600a763dd29fd6e4d832
      size: 1355
